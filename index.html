<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Guia de Automa√ß√µes Operacionais</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 8px;
    }

    h1 {
      color: #1f2937;
    }

    h2 {
      color: #2563eb;
      margin-top: 35px;
    }

    h3 {
      color: #111827;
      margin-top: 20px;
    }

    p, li {
      color: #374151;
      line-height: 1.6;
    }

    ul {
      margin-left: 20px;
    }

    pre {
      background: #111827;
      color: #e5e7eb;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
    }

    .step {
      background: #f9fafb;
      border-left: 4px solid #2563eb;
      padding: 12px;
      margin: 15px 0;
    }

    button {
      margin-top: 8px;
      padding: 8px 14px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: #1e40af;
    }

    footer {
      margin-top: 50px;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
    }
  </style>
</head>

<body>
<div class="container">

<h1>Guia de Automa√ß√µes Operacionais</h1>

<p>
Este site descreve automa√ß√µes criadas para apoiar a rotina operacional.
As solu√ß√µes funcionam localmente no navegador, n√£o alteram o sistema
e n√£o acessam banco de dados.
</p>

---

<h2>üìå O que √© um Bookmarklet?</h2>
<p>
Um bookmarklet √© um pequeno script JavaScript salvo como favorito no navegador.
Ao clicar nele, o script √© executado na p√°gina aberta.
</p>

---

<h2>‚öôÔ∏è Passo a Passo ‚Äì Instala√ß√£o</h2>

<div class="step">
<b>1.</b> Pressione <b>Ctrl + Shift + O</b> para abrir o Gerenciador de Favoritos.
</div>

<div class="step">
<b>2.</b> Crie um novo favorito.
</div>

<div class="step">
<b>3.</b> No campo URL, cole o script que inicia com <b>javascript:</b>.
</div>

<div class="step">
<b>4.</b> Ative a barra de favoritos com <b>Ctrl + Shift + B</b>.
</div>

<div class="step">
<b>5.</b> Acesse o sistema e clique no bookmarklet para ativar.
</div>

---

<h2>üîî Script 1 ‚Äì Alerta de Workflows</h2>

<p>
Este script monitora o n√∫mero de workflows na Tela do Operador
e emite alerta sonoro quando houver aumento.
</p>

<pre id="workflow">
javascript:(function(){
const audio=new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');
let last=null;
setInterval(()=>{
const el=document.getElementById('lblTotalSMP');
if(!el)return;
const m=el.innerText.match(/Workflows:\s*(\d+)/);
if(!m)return;
const cur=parseInt(m[1]);
if(last!==null && cur>last){
audio.play();
alert('Novo Workflow detectado!');
}
last=cur;
},3000);
})();
</pre>

<button onclick="copiar('workflow')">üìã Copiar script</button>

---

<h2>üìã Script 2 ‚Äì C√≥pia Autom√°tica da SMP</h2>

<p>
Ao abrir a SMP, este script copia automaticamente:
</p>
<ul>
  <li>SMP (somente n√∫meros)</li>
  <li>Cavalo</li>
  <li>Carreta</li>
  <li>Cidade de origem</li>
  <li>Cidade de destino</li>
</ul>

<pre id="smp">
javascript:(function(){
function copiar(t){navigator.clipboard.writeText(t);}
const b=document.body.innerText;
const smp=(b.match(/Dados SMP\s*-\s*(\d+)/)||[])[1]||'';
const cav=(b.match(/Cavalo\s*([A-Z0-9]+)/)||[])[1]||'';
const car=(b.match(/Carreta\s*([A-Z0-9]+)/)||[])[1]||'';
const ori=(b.match(/Cidade \/ UF \/ Pa√≠s Origem\s*([A-Z]+)/)||[])[1]||'';
const des=(b.match(/Cidade \/ UF \/ Pa√≠s Destino\s*([A-Z]+)/)||[])[1]||'';
copiar(`${smp}\t${cav}\t${car}\t${ori}\t${des}`);
alert('Dados da SMP copiados!');
})();
</pre>

<button onclick="copiar('smp')">üìã Copiar script</button>

---

<h2>‚ö†Ô∏è Observa√ß√µes Importantes</h2>
<ul>
  <li>As automa√ß√µes s√£o apenas apoio operacional</li>
  <li>N√£o alteram dados do sistema</li>
  <li>Ap√≥s recarregar a p√°gina, √© necess√°rio clicar novamente no bookmarklet</li>
</ul>

<footer>
Uso interno ‚Ä¢ Automa√ß√£o local ‚Ä¢ Desenvolvido por Andr√©
</footer>

</div>

<script>
function copiar(id){
  const texto=document.getElementById(id).innerText;
  navigator.clipboard.writeText(texto);
  alert("Script copiado!");
}
</script>

</body>
</html>
